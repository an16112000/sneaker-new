{"ast":null,"code":"import _objectSpread from\"C:/Users/admin/Desktop/an/sneaker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/admin/Desktop/an/sneaker/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/admin/Desktop/an/sneaker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{getInformationKor}from\"../getDataFromSoldOut/getInformationKor\";import{getData}from\"../getDataFromSNKRDUNK/getDataJp\";import{getSizeAndSkuFromKream}from\"../getDataFromKream/getSizeAndSku\";import{VND}from\"../changeCurrency/changeCurrency\";function merge(data1,data2,data3){var isSnkrDunkPriceOk=false;var data=data1.map(function(item1){var data={};data2.forEach(function(item2){if(item1.size===item2.size){data3.forEach(function(item3){if(item2.size===item3.size){if(Math.floor(item2.price)-(1.36*Math.floor(item3.price)+820000)>0&&item3.price!==0){isSnkrDunkPriceOk=true;}else{isSnkrDunkPriceOk=false;}data={size:item1.size,priceSoldOut:VND.format(Math.floor(item1.price)),priceJp:VND.format(Math.floor(item2.price)),priceKream:VND.format(Math.floor(item3.price)),isSnkrDunkPriceOk:isSnkrDunkPriceOk,listItemCountMap:item2.listItemCountMap};}});}});return data;});return data;}var soldOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(submitCode){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getInformationKor(submitCode);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},_callee);}));return function soldOut(_x){return _ref.apply(this,arguments);};}();var snkrDunk=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(submitCode){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getData(submitCode);case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}},_callee2);}));return function snkrDunk(_x2){return _ref2.apply(this,arguments);};}();var kream=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(submitCode){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getSizeAndSkuFromKream(submitCode);case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}},_callee3);}));return function kream(_x3){return _ref3.apply(this,arguments);};}();function getDataForMenu(_x4){return _getDataForMenu.apply(this,arguments);}function _getDataForMenu(){_getDataForMenu=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(submitCode){var data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return Promise.all([soldOut(submitCode),snkrDunk(submitCode),kream(submitCode)]).then(function(props){data=props;});case 2:return _context5.abrupt(\"return\",{dataKor:data[0],dataJp:data[1],dataKream:data[2]});case 3:case\"end\":return _context5.stop();}},_callee5);}));return _getDataForMenu.apply(this,arguments);}export var mergeData=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var submitCode,isSnkrDunkOk,props,dataKor,dataJp,dataKream,data,result,_args4=arguments;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:submitCode=_args4.length>0&&_args4[0]!==undefined?_args4[0]:\"\";isSnkrDunkOk=false;// const dataKor = await getInformationKor(submitCode)\n// const dataJp = await getData(submitCode);\n// const dataKream = await getSizeAndSkuFromKream(submitCode)\n_context4.next=4;return getDataForMenu(submitCode);case 4:props=_context4.sent;dataKor=props.dataKor,dataJp=props.dataJp,dataKream=props.dataKream;if(dataKor&&dataJp){data=merge(dataKor.price,dataJp.price,dataKream);data.forEach(function(item){if(item.isSnkrDunkPriceOk===true){isSnkrDunkOk=true;}});}result=_objectSpread(_objectSpread({},data),{},{code:!!dataKor?dataKor.code:null,img:!!dataKor?dataKor.img:null,name:!!dataKor?dataKor.name_eng:null,price:!!dataKor?data:null,isSnkrDunkOk:isSnkrDunkOk});return _context4.abrupt(\"return\",result);case 9:case\"end\":return _context4.stop();}},_callee4);}));return function mergeData(){return _ref4.apply(this,arguments);};}();","map":{"version":3,"names":["getInformationKor","getData","getSizeAndSkuFromKream","VND","merge","data1","data2","data3","isSnkrDunkPriceOk","data","map","item1","forEach","item2","size","item3","Math","floor","price","priceSoldOut","format","priceJp","priceKream","listItemCountMap","soldOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","submitCode","wrap","_callee$","_context","prev","next","abrupt","sent","stop","_x","apply","arguments","snkrDunk","_ref2","_callee2","_callee2$","_context2","_x2","kream","_ref3","_callee3","_callee3$","_context3","_x3","getDataForMenu","_x4","_getDataForMenu","_callee5","_callee5$","_context5","Promise","all","then","props","dataKor","dataJp","dataKream","mergeData","_ref4","_callee4","isSnkrDunkOk","result","_args4","_callee4$","_context4","length","undefined","item","_objectSpread","code","img","name","name_eng"],"sources":["C:/Users/admin/Desktop/an/sneaker/src/mergeData/index.js"],"sourcesContent":["import { getInformationKor } from \"../getDataFromSoldOut/getInformationKor\";\r\nimport { getData } from \"../getDataFromSNKRDUNK/getDataJp\";\r\nimport { getSizeAndSkuFromKream } from \"../getDataFromKream/getSizeAndSku\";\r\nimport { VND } from \"../changeCurrency/changeCurrency\";\r\n\r\nfunction merge(data1, data2, data3) {\r\n  let isSnkrDunkPriceOk = false;\r\n  const data = data1.map((item1) => {\r\n    let data = {};\r\n    data2.forEach((item2) => {\r\n      if (item1.size === item2.size) {\r\n        data3.forEach((item3) => {\r\n          if (item2.size === item3.size) {\r\n            if (Math.floor(item2.price) - (1.36*Math.floor(item3.price)+820000) > 0 && item3.price !== 0) {\r\n              isSnkrDunkPriceOk = true;\r\n            }\r\n            else {\r\n              isSnkrDunkPriceOk = false\r\n            }\r\n            data = {\r\n              size: item1.size,\r\n              priceSoldOut: VND.format(Math.floor(item1.price)),\r\n              priceJp: VND.format(Math.floor(item2.price)),\r\n              priceKream: VND.format(Math.floor(item3.price)),\r\n              isSnkrDunkPriceOk: isSnkrDunkPriceOk,\r\n              listItemCountMap: item2.listItemCountMap\r\n            };\r\n          }\r\n        });\r\n      }\r\n    });\r\n    return data;\r\n  });\r\n  return data;\r\n}\r\n\r\nconst soldOut = async (submitCode) => await getInformationKor(submitCode);\r\nconst snkrDunk = async (submitCode) => await getData(submitCode);\r\nconst kream = async (submitCode) => await getSizeAndSkuFromKream(submitCode);\r\n\r\nasync function getDataForMenu(submitCode) {\r\n  let data;\r\n  await Promise.all([\r\n    soldOut(submitCode),\r\n    snkrDunk(submitCode),\r\n    kream(submitCode),\r\n  ]).then((props) => {\r\n    data = props;\r\n  });\r\n  return {\r\n    dataKor: data[0],\r\n    dataJp: data[1],\r\n    dataKream: data[2],\r\n  };\r\n}\r\n\r\nexport const mergeData = async (submitCode = \"\") => {\r\n  let isSnkrDunkOk = false;\r\n  // const dataKor = await getInformationKor(submitCode)\r\n  // const dataJp = await getData(submitCode);\r\n  // const dataKream = await getSizeAndSkuFromKream(submitCode)\r\n  const props = await getDataForMenu(submitCode);\r\n  const { dataKor, dataJp, dataKream } = props;\r\n  let data;\r\n  if (dataKor && dataJp) {\r\n    data = merge(dataKor.price, dataJp.price, dataKream);\r\n    data.forEach((item) => {\r\n      if (item.isSnkrDunkPriceOk === true) {\r\n        isSnkrDunkOk = true;\r\n      }\r\n    });\r\n  }\r\n  const result = {\r\n    ...data,\r\n    code: !!dataKor ? dataKor.code : null,\r\n    img: !!dataKor ? dataKor.img : null,\r\n    name: !!dataKor ? dataKor.name_eng : null,\r\n    price: !!dataKor ? data : null,\r\n    isSnkrDunkOk: isSnkrDunkOk,\r\n  };\r\n  return result;\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}