{"ast":null,"code":"import { getInformationKor } from \"../getDataFromSoldOut/getInformationKor\";\nimport { getData } from \"../getDataFromSNKRDUNK/getDataJp\";\nimport { getSizeAndSkuFromKream } from \"../getDataFromKream/getSizeAndSku\";\nimport { VND } from \"../changeCurrency/changeCurrency\";\nfunction merge(data1, data2, data3) {\n  let isSnkrDunkPriceOk = false;\n  const data = data1.map(item1 => {\n    let data = {};\n    data2.forEach(item2 => {\n      if (item1.size === item2.size) {\n        data3.forEach(item3 => {\n          if (item2.size === item3.size) {\n            console.log(i);\n            console.log(item1.size, Math.floor(item2.price) - (1.36 * Math.floor(item3.price) + 820000));\n            if (Math.floor(item2.price) - (1.36 * Math.floor(item3.price) + 820000) > 0 && item3.price !== 0) {\n              isSnkrDunkPriceOk = true;\n            } else {\n              isSnkrDunkPriceOk = false;\n            }\n            data = {\n              size: item1.size,\n              priceSoldOut: VND.format(Math.floor(item1.price)),\n              priceJp: VND.format(Math.floor(item2.price)),\n              priceKream: VND.format(Math.floor(item3.price)),\n              isSnkrDunkPriceOk: isSnkrDunkPriceOk,\n              listingItemCountMap: item2.listingItemCountMap\n            };\n          }\n        });\n      }\n    });\n    return data;\n  });\n  return data;\n}\nconst soldOut = async submitCode => await getInformationKor(submitCode);\nconst snkrDunk = async submitCode => await getData(submitCode);\nconst kream = async submitCode => await getSizeAndSkuFromKream(submitCode);\nasync function getDataForMenu(submitCode) {\n  let data;\n  await Promise.all([soldOut(submitCode), snkrDunk(submitCode), kream(submitCode)]).then(props => {\n    data = props;\n  });\n  return {\n    dataKor: data[0],\n    dataJp: data[1],\n    dataKream: data[2]\n  };\n}\nexport const mergeData = async (submitCode = \"\") => {\n  let isSnkrDunkOk = false;\n  // const dataKor = await getInformationKor(submitCode)\n  // const dataJp = await getData(submitCode);\n  // const dataKream = await getSizeAndSkuFromKream(submitCode)\n  const props = await getDataForMenu(submitCode);\n  const {\n    dataKor,\n    dataJp,\n    dataKream\n  } = props;\n  console.log(dataJp);\n  let data;\n  if (dataKor && dataJp) {\n    console.log(1);\n    data = merge(dataKor.price, dataJp.price, dataKream);\n    data.forEach(item => {\n      if (item.isSnkrDunkPriceOk === true) {\n        isSnkrDunkOk = true;\n      }\n    });\n  }\n  const result = {\n    ...data,\n    code: !!dataKor ? dataKor.code : null,\n    img: !!dataKor ? dataKor.img : null,\n    name: !!dataKor ? dataKor.name_eng : null,\n    price: !!dataKor ? data : null,\n    isSnkrDunkOk: isSnkrDunkOk\n  };\n  return result;\n};","map":{"version":3,"names":["getInformationKor","getData","getSizeAndSkuFromKream","VND","merge","data1","data2","data3","isSnkrDunkPriceOk","data","map","item1","forEach","item2","size","item3","console","log","i","Math","floor","price","priceSoldOut","format","priceJp","priceKream","listingItemCountMap","soldOut","submitCode","snkrDunk","kream","getDataForMenu","Promise","all","then","props","dataKor","dataJp","dataKream","mergeData","isSnkrDunkOk","item","result","code","img","name","name_eng"],"sources":["C:/Users/admin/Desktop/an/sneaker/src/mergeData/index.js"],"sourcesContent":["import { getInformationKor } from \"../getDataFromSoldOut/getInformationKor\";\r\nimport { getData } from \"../getDataFromSNKRDUNK/getDataJp\";\r\nimport { getSizeAndSkuFromKream } from \"../getDataFromKream/getSizeAndSku\";\r\nimport { VND } from \"../changeCurrency/changeCurrency\";\r\n\r\nfunction merge(data1, data2, data3) {\r\n  let isSnkrDunkPriceOk = false;\r\n  const data = data1.map((item1) => {\r\n    let data = {};\r\n    data2.forEach((item2) => {\r\n      if (item1.size === item2.size) {\r\n        data3.forEach((item3) => {\r\n          if (item2.size === item3.size) {\r\n            console.log(i)\r\n            console.log(item1.size, Math.floor(item2.price) - (1.36*Math.floor(item3.price)+820000))\r\n            if (Math.floor(item2.price) - (1.36*Math.floor(item3.price)+820000) > 0 && item3.price !== 0) {\r\n              isSnkrDunkPriceOk = true;\r\n            }\r\n            else {\r\n              isSnkrDunkPriceOk = false\r\n            }\r\n            data = {\r\n              size: item1.size,\r\n              priceSoldOut: VND.format(Math.floor(item1.price)),\r\n              priceJp: VND.format(Math.floor(item2.price)),\r\n              priceKream: VND.format(Math.floor(item3.price)),\r\n              isSnkrDunkPriceOk: isSnkrDunkPriceOk,\r\n              listingItemCountMap: item2.listingItemCountMap\r\n            };\r\n          }\r\n        });\r\n      }\r\n    });\r\n    return data;\r\n  });\r\n  return data;\r\n}\r\n\r\nconst soldOut = async (submitCode) => await getInformationKor(submitCode);\r\nconst snkrDunk = async (submitCode) => await getData(submitCode);\r\nconst kream = async (submitCode) => await getSizeAndSkuFromKream(submitCode);\r\n\r\nasync function getDataForMenu(submitCode) {\r\n  let data;\r\n  await Promise.all([\r\n    soldOut(submitCode),\r\n    snkrDunk(submitCode),\r\n    kream(submitCode),\r\n  ]).then((props) => {\r\n    data = props;\r\n  });\r\n  return {\r\n    dataKor: data[0],\r\n    dataJp: data[1],\r\n    dataKream: data[2],\r\n  };\r\n}\r\n\r\nexport const mergeData = async (submitCode = \"\") => {\r\n  let isSnkrDunkOk = false;\r\n  // const dataKor = await getInformationKor(submitCode)\r\n  // const dataJp = await getData(submitCode);\r\n  // const dataKream = await getSizeAndSkuFromKream(submitCode)\r\n  const props = await getDataForMenu(submitCode);\r\n  const { dataKor, dataJp, dataKream } = props;\r\n  console.log(dataJp)\r\n  let data;\r\n  if (dataKor && dataJp) {\r\n    console.log(1);\r\n    data = merge(dataKor.price, dataJp.price, dataKream);\r\n    data.forEach((item) => {\r\n      if (item.isSnkrDunkPriceOk === true) {\r\n        isSnkrDunkOk = true;\r\n      }\r\n    });\r\n  }\r\n  const result = {\r\n    ...data,\r\n    code: !!dataKor ? dataKor.code : null,\r\n    img: !!dataKor ? dataKor.img : null,\r\n    name: !!dataKor ? dataKor.name_eng : null,\r\n    price: !!dataKor ? data : null,\r\n    isSnkrDunkOk: isSnkrDunkOk,\r\n  };\r\n  return result;\r\n};\r\n"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,OAAO,QAAQ,kCAAkC;AAC1D,SAASC,sBAAsB,QAAQ,mCAAmC;AAC1E,SAASC,GAAG,QAAQ,kCAAkC;AAEtD,SAASC,KAAKA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAE;EAClC,IAAIC,iBAAiB,GAAG,KAAK;EAC7B,MAAMC,IAAI,GAAGJ,KAAK,CAACK,GAAG,CAAEC,KAAK,IAAK;IAChC,IAAIF,IAAI,GAAG,CAAC,CAAC;IACbH,KAAK,CAACM,OAAO,CAAEC,KAAK,IAAK;MACvB,IAAIF,KAAK,CAACG,IAAI,KAAKD,KAAK,CAACC,IAAI,EAAE;QAC7BP,KAAK,CAACK,OAAO,CAAEG,KAAK,IAAK;UACvB,IAAIF,KAAK,CAACC,IAAI,KAAKC,KAAK,CAACD,IAAI,EAAE;YAC7BE,OAAO,CAACC,GAAG,CAACC,CAAC,CAAC;YACdF,OAAO,CAACC,GAAG,CAACN,KAAK,CAACG,IAAI,EAAEK,IAAI,CAACC,KAAK,CAACP,KAAK,CAACQ,KAAK,CAAC,IAAI,IAAI,GAACF,IAAI,CAACC,KAAK,CAACL,KAAK,CAACM,KAAK,CAAC,GAAC,MAAM,CAAC,CAAC;YACxF,IAAIF,IAAI,CAACC,KAAK,CAACP,KAAK,CAACQ,KAAK,CAAC,IAAI,IAAI,GAACF,IAAI,CAACC,KAAK,CAACL,KAAK,CAACM,KAAK,CAAC,GAAC,MAAM,CAAC,GAAG,CAAC,IAAIN,KAAK,CAACM,KAAK,KAAK,CAAC,EAAE;cAC5Fb,iBAAiB,GAAG,IAAI;YAC1B,CAAC,MACI;cACHA,iBAAiB,GAAG,KAAK;YAC3B;YACAC,IAAI,GAAG;cACLK,IAAI,EAAEH,KAAK,CAACG,IAAI;cAChBQ,YAAY,EAAEnB,GAAG,CAACoB,MAAM,CAACJ,IAAI,CAACC,KAAK,CAACT,KAAK,CAACU,KAAK,CAAC,CAAC;cACjDG,OAAO,EAAErB,GAAG,CAACoB,MAAM,CAACJ,IAAI,CAACC,KAAK,CAACP,KAAK,CAACQ,KAAK,CAAC,CAAC;cAC5CI,UAAU,EAAEtB,GAAG,CAACoB,MAAM,CAACJ,IAAI,CAACC,KAAK,CAACL,KAAK,CAACM,KAAK,CAAC,CAAC;cAC/Cb,iBAAiB,EAAEA,iBAAiB;cACpCkB,mBAAmB,EAAEb,KAAK,CAACa;YAC7B,CAAC;UACH;QACF,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IACF,OAAOjB,IAAI;EACb,CAAC,CAAC;EACF,OAAOA,IAAI;AACb;AAEA,MAAMkB,OAAO,GAAG,MAAOC,UAAU,IAAK,MAAM5B,iBAAiB,CAAC4B,UAAU,CAAC;AACzE,MAAMC,QAAQ,GAAG,MAAOD,UAAU,IAAK,MAAM3B,OAAO,CAAC2B,UAAU,CAAC;AAChE,MAAME,KAAK,GAAG,MAAOF,UAAU,IAAK,MAAM1B,sBAAsB,CAAC0B,UAAU,CAAC;AAE5E,eAAeG,cAAcA,CAACH,UAAU,EAAE;EACxC,IAAInB,IAAI;EACR,MAAMuB,OAAO,CAACC,GAAG,CAAC,CAChBN,OAAO,CAACC,UAAU,CAAC,EACnBC,QAAQ,CAACD,UAAU,CAAC,EACpBE,KAAK,CAACF,UAAU,CAAC,CAClB,CAAC,CAACM,IAAI,CAAEC,KAAK,IAAK;IACjB1B,IAAI,GAAG0B,KAAK;EACd,CAAC,CAAC;EACF,OAAO;IACLC,OAAO,EAAE3B,IAAI,CAAC,CAAC,CAAC;IAChB4B,MAAM,EAAE5B,IAAI,CAAC,CAAC,CAAC;IACf6B,SAAS,EAAE7B,IAAI,CAAC,CAAC;EACnB,CAAC;AACH;AAEA,OAAO,MAAM8B,SAAS,GAAG,MAAAA,CAAOX,UAAU,GAAG,EAAE,KAAK;EAClD,IAAIY,YAAY,GAAG,KAAK;EACxB;EACA;EACA;EACA,MAAML,KAAK,GAAG,MAAMJ,cAAc,CAACH,UAAU,CAAC;EAC9C,MAAM;IAAEQ,OAAO;IAAEC,MAAM;IAAEC;EAAU,CAAC,GAAGH,KAAK;EAC5CnB,OAAO,CAACC,GAAG,CAACoB,MAAM,CAAC;EACnB,IAAI5B,IAAI;EACR,IAAI2B,OAAO,IAAIC,MAAM,EAAE;IACrBrB,OAAO,CAACC,GAAG,CAAC,CAAC,CAAC;IACdR,IAAI,GAAGL,KAAK,CAACgC,OAAO,CAACf,KAAK,EAAEgB,MAAM,CAAChB,KAAK,EAAEiB,SAAS,CAAC;IACpD7B,IAAI,CAACG,OAAO,CAAE6B,IAAI,IAAK;MACrB,IAAIA,IAAI,CAACjC,iBAAiB,KAAK,IAAI,EAAE;QACnCgC,YAAY,GAAG,IAAI;MACrB;IACF,CAAC,CAAC;EACJ;EACA,MAAME,MAAM,GAAG;IACb,GAAGjC,IAAI;IACPkC,IAAI,EAAE,CAAC,CAACP,OAAO,GAAGA,OAAO,CAACO,IAAI,GAAG,IAAI;IACrCC,GAAG,EAAE,CAAC,CAACR,OAAO,GAAGA,OAAO,CAACQ,GAAG,GAAG,IAAI;IACnCC,IAAI,EAAE,CAAC,CAACT,OAAO,GAAGA,OAAO,CAACU,QAAQ,GAAG,IAAI;IACzCzB,KAAK,EAAE,CAAC,CAACe,OAAO,GAAG3B,IAAI,GAAG,IAAI;IAC9B+B,YAAY,EAAEA;EAChB,CAAC;EACD,OAAOE,MAAM;AACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}