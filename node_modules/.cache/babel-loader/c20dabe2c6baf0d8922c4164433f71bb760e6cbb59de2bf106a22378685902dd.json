{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/admin/Desktop/an/sneaker/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/admin/Desktop/an/sneaker/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/admin/Desktop/an/sneaker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{getRateJp}from\"../rate\";export var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(submitCode){var data,arr,listingItemCountMap,rateJp,price,infor;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://snkrdunk.com/v1/sneakers/\".concat(submitCode,\"/size/list\"));case 3:data=_context.sent;arr=data.data.data.minPriceOfSizeList;listingItemCountMap=data.data.data.listingItemCountMap;arr.sort(function(a,b){return a.size-b.size;});_context.next=9;return getRateJp();case 9:rateJp=_context.sent;price=arr.map(function(item){var listItemCountMap=0;for(var size in listingItemCountMap){size=parseInt(size);if(size===item.size){listItemCountMap=listingItemCountMap[size];}}return{size:(5-(item.size-18)*0.5+item.size)*10,price:item.price*rateJp,listItemCountMap:listItemCountMap};});infor={code:submitCode,price:_toConsumableArray(price)};return _context.abrupt(\"return\",infor);case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",alert('Loi'));case 18:case\"end\":return _context.stop();}},_callee,null,[[0,15]]);}));return function getData(_x){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["axios","getRateJp","getData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","submitCode","data","arr","listingItemCountMap","rateJp","price","infor","wrap","_callee$","_context","prev","next","get","concat","sent","minPriceOfSizeList","sort","a","b","size","map","item","listItemCountMap","parseInt","code","_toConsumableArray","abrupt","t0","alert","stop","_x","apply","arguments"],"sources":["C:/Users/admin/Desktop/an/sneaker/src/getDataFromSNKRDUNK/getDataJp.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { getRateJp } from \"../rate\";\r\n\r\n\r\nexport const getData = async (submitCode) => {\r\n    try {\r\n        const data = await axios.get(`https://snkrdunk.com/v1/sneakers/${submitCode}/size/list`)\r\n        const arr = data.data.data.minPriceOfSizeList;\r\n        const listingItemCountMap = data.data.data.listingItemCountMap;\r\n        arr.sort(function (a, b) {\r\n            return a.size - b.size\r\n        })\r\n        const rateJp = await getRateJp();\r\n        const price = arr.map(\r\n            item => {\r\n                let listItemCountMap = 0\r\n                for (let size in listingItemCountMap) {\r\n                    size = parseInt(size)\r\n                    if(size === item.size) {\r\n                        listItemCountMap = listingItemCountMap[size]\r\n                    }\r\n                }\r\n                return {\r\n                    size: ((5-(item.size-18)*0.5)+item.size)*10,\r\n                    price: item.price*rateJp,\r\n                    listItemCountMap: listItemCountMap,\r\n                }\r\n            }\r\n        )\r\n        const infor = {\r\n            code: submitCode,\r\n            price: [...price]\r\n        }\r\n        return infor;\r\n    } catch (error) {\r\n        return alert('Loi');\r\n    }\r\n\r\n}\r\n\r\n"],"mappings":"6XAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,SAAS,CAGnC,MAAO,IAAM,CAAAC,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,UAAU,MAAAC,IAAA,CAAAC,GAAA,CAAAC,mBAAA,CAAAC,MAAA,CAAAC,KAAA,CAAAC,KAAA,QAAAT,mBAAA,GAAAU,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEb,CAAAnB,KAAK,CAACoB,GAAG,qCAAAC,MAAA,CAAqCb,UAAU,cAAY,CAAC,QAAlFC,IAAI,CAAAQ,QAAA,CAAAK,IAAA,CACJZ,GAAG,CAAGD,IAAI,CAACA,IAAI,CAACA,IAAI,CAACc,kBAAkB,CACvCZ,mBAAmB,CAAGF,IAAI,CAACA,IAAI,CAACA,IAAI,CAACE,mBAAmB,CAC9DD,GAAG,CAACc,IAAI,CAAC,SAAUC,CAAC,CAAEC,CAAC,CAAE,CACrB,MAAO,CAAAD,CAAC,CAACE,IAAI,CAAGD,CAAC,CAACC,IAAI,CAC1B,CAAC,CAAC,CAAAV,QAAA,CAAAE,IAAA,SACmB,CAAAlB,SAAS,CAAC,CAAC,QAA1BW,MAAM,CAAAK,QAAA,CAAAK,IAAA,CACNT,KAAK,CAAGH,GAAG,CAACkB,GAAG,CACjB,SAAAC,IAAI,CAAI,CACJ,GAAI,CAAAC,gBAAgB,CAAG,CAAC,CACxB,IAAK,GAAI,CAAAH,IAAI,GAAI,CAAAhB,mBAAmB,CAAE,CAClCgB,IAAI,CAAGI,QAAQ,CAACJ,IAAI,CAAC,CACrB,GAAGA,IAAI,GAAKE,IAAI,CAACF,IAAI,CAAE,CACnBG,gBAAgB,CAAGnB,mBAAmB,CAACgB,IAAI,CAAC,CAChD,CACJ,CACA,MAAO,CACHA,IAAI,CAAE,CAAE,CAAC,CAAC,CAACE,IAAI,CAACF,IAAI,CAAC,EAAE,EAAE,GAAG,CAAEE,IAAI,CAACF,IAAI,EAAE,EAAE,CAC3Cd,KAAK,CAAEgB,IAAI,CAAChB,KAAK,CAACD,MAAM,CACxBkB,gBAAgB,CAAEA,gBACtB,CAAC,CACL,CACJ,CAAC,CACKhB,KAAK,CAAG,CACVkB,IAAI,CAAExB,UAAU,CAChBK,KAAK,CAAAoB,kBAAA,CAAMpB,KAAK,CACpB,CAAC,QAAAI,QAAA,CAAAiB,MAAA,UACMpB,KAAK,UAAAG,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAkB,EAAA,CAAAlB,QAAA,oBAAAA,QAAA,CAAAiB,MAAA,UAELE,KAAK,CAAC,KAAK,CAAC,2BAAAnB,QAAA,CAAAoB,IAAA,MAAA9B,OAAA,iBAG1B,kBAlCY,CAAAL,OAAOA,CAAAoC,EAAA,SAAAnC,IAAA,CAAAoC,KAAA,MAAAC,SAAA,OAkCnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}