{"ast":null,"code":"import { getInformationKor } from '../getDataFromSoldOut/getInformationKor';\nimport { getData } from '../getDataFromSNKRDUNK/getDataJp';\nimport { getSizeAndSkuFromKream } from '../getDataFromKream/getSizeAndSku';\nimport { VND } from '../changeCurrency/changeCurrency';\nimport { instance, instanceKream } from '../services';\nimport axios from 'axios';\nfunction merge(data1, data2, data3) {\n  let isSnkrDunkOk = false;\n  const data = data1.map(item1 => {\n    let data = {};\n    data2.forEach(item2 => {\n      if (item1.size === item2.size) {\n        data3.forEach(item3 => {\n          // console.log(Math.floor(item2.price) - Math.floor(item3.price))\n          if (item2.size === item3.size) {\n            if (Math.floor(item2.price) - Math.floor(item3.price) > 1500000) {\n              isSnkrDunkOk = true;\n            }\n            data = {\n              size: item1.size,\n              priceSoldOut: VND.format(Math.floor(item1.price)),\n              priceJp: VND.format(Math.floor(item2.price)),\n              priceKream: VND.format(Math.floor(item3.price)),\n              isSnkrDunkOk: isSnkrDunkOk\n            };\n          }\n        });\n      }\n    });\n    return data;\n  });\n  return data;\n}\nexport const mergeData = async (submitCode = '') => {\n  const soldout = await instance.get(`https://www.soldout.co.kr/api/v3/search/get-item-list?&typeGb=goods&pageIndex=1&pageSize=24&keyword=${submitCode}`);\n  const snkrDunk = await axios.get(`https://snkrdunk.com/v1/sneakers/${submitCode}/size/list`);\n  const kream = await instanceKream.get(`https://kream.co.kr/api/p/tabs/all/?keyword=${submitCode}&request_key=1175b18f-9722-434f-ac57-4d87fefba9cd`);\n  let isSnkrDunkOk = false;\n  // const dataKor = await getInformationKor(submitCode)\n  // const dataJp = await getData(submitCode);\n  // const dataKream = await getSizeAndSkuFromKream(submitCode)\n  let dataKor;\n  let dataJp;\n  let dataKream;\n  Promise.all([soldout, snkrDunk, kream]).then();\n  let data;\n  if (dataKor && dataJp) {\n    data = merge(dataKor.price, dataJp.price, dataKream);\n    data.map(item => {\n      if (item.isSnkrDunkOk == true) {\n        isSnkrDunkOk = true;\n      }\n    });\n  }\n  console.log(data);\n  const result = {\n    code: !!dataKor ? dataKor.code : null,\n    img: !!dataKor ? dataKor.img : null,\n    name: !!dataKor ? dataKor.name_eng : null,\n    price: !!dataKor ? data : null,\n    isSnkrDunkOk: isSnkrDunkOk\n  };\n  return result;\n};","map":{"version":3,"names":["getInformationKor","getData","getSizeAndSkuFromKream","VND","instance","instanceKream","axios","merge","data1","data2","data3","isSnkrDunkOk","data","map","item1","forEach","item2","size","item3","Math","floor","price","priceSoldOut","format","priceJp","priceKream","mergeData","submitCode","soldout","get","snkrDunk","kream","dataKor","dataJp","dataKream","Promise","all","then","item","console","log","result","code","img","name","name_eng"],"sources":["/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/mergeData/index.js"],"sourcesContent":["import { getInformationKor } from '../getDataFromSoldOut/getInformationKor'\nimport { getData } from '../getDataFromSNKRDUNK/getDataJp'\nimport { getSizeAndSkuFromKream } from '../getDataFromKream/getSizeAndSku';\nimport { VND } from '../changeCurrency/changeCurrency';\nimport { instance, instanceKream } from '../services';\nimport axios from 'axios';\n\nfunction merge (data1, data2, data3) {\n    let isSnkrDunkOk = false\n    const data = data1.map(\n        (item1) => {\n            let data = {}\n            data2.forEach(\n                item2 => {\n                    if (item1.size === item2.size) {\n                        data3.forEach(\n                            item3 => {\n                                // console.log(Math.floor(item2.price) - Math.floor(item3.price))\n                                if(item2.size === item3.size) {\n                                    if(Math.floor(item2.price) - Math.floor(item3.price)> 1500000) {\n                                        isSnkrDunkOk = true\n                                    }\n                                    data = {\n                                        size: item1.size,\n                                        priceSoldOut: VND.format(Math.floor(item1.price)),\n                                        priceJp: VND.format(Math.floor(item2.price)),\n                                        priceKream: VND.format(Math.floor(item3.price)),\n                                        isSnkrDunkOk: isSnkrDunkOk\n                                    }\n                                }\n                            }\n                        )\n                    }\n                }\n            )\n            return data\n        }\n    )\n    return data\n}\nexport const mergeData = async (submitCode = '') => {\n    const soldout = await instance.get(`https://www.soldout.co.kr/api/v3/search/get-item-list?&typeGb=goods&pageIndex=1&pageSize=24&keyword=${submitCode}`)\n    const snkrDunk = await axios.get(`https://snkrdunk.com/v1/sneakers/${submitCode}/size/list`)\n    const kream = await instanceKream.get(`https://kream.co.kr/api/p/tabs/all/?keyword=${submitCode}&request_key=1175b18f-9722-434f-ac57-4d87fefba9cd`)\n    let isSnkrDunkOk = false\n    // const dataKor = await getInformationKor(submitCode)\n    // const dataJp = await getData(submitCode);\n    // const dataKream = await getSizeAndSkuFromKream(submitCode)\n    let dataKor\n    let dataJp\n    let dataKream\n    Promise.all([soldout, snkrDunk, kream])\n    .then(\n        \n    )\n    let data\n    if (dataKor && dataJp) {\n        data = merge(dataKor.price,dataJp.price, dataKream)\n        data.map(\n            item => {\n                if(item.isSnkrDunkOk == true) {\n                    isSnkrDunkOk = true\n                }\n            }\n        )\n    }\n    console.log(data)\n    const result = {\n        code: !!dataKor ? dataKor.code : null,\n        img: !!dataKor ? dataKor.img : null,\n        name: !!dataKor ? dataKor.name_eng : null,\n        price: !!dataKor ? data : null,\n        isSnkrDunkOk: isSnkrDunkOk,\n    }\n    return result\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}